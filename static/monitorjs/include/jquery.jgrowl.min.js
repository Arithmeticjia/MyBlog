(function(b){var a=(function(){return false===b.support.boxModel&&b.support.objectAll&&b.support.leadingWhitespace})();b.jGrowl=function(c,d){if(b("#jGrowl").size()==0){b('<div id="jGrowl"></div>').addClass((d&&d.position)?d.position:b.jGrowl.defaults.position).appendTo("body")}b("#jGrowl").jGrowl(c,d)};b.fn.jGrowl=function(c,e){if(b.isFunction(this.each)){var d=arguments;return this.each(function(){var f=this;if(b(this).data("jGrowl.instance")==undefined){b(this).data("jGrowl.instance",b.extend(new b.fn.jGrowl(),{notifications:[],element:null,interval:null}));b(this).data("jGrowl.instance").startup(this)}if(b.isFunction(b(this).data("jGrowl.instance")[c])){b(this).data("jGrowl.instance")[c].apply(b(this).data("jGrowl.instance"),b.makeArray(d).slice(1))}else{b(this).data("jGrowl.instance").create(c,e)}})}};b.extend(b.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:false,position:"top-right",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3000,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:true,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(d,c,f){},beforeOpen:function(d,c,f){},afterOpen:function(d,c,f){},open:function(d,c,f){},beforeClose:function(d,c,f){},close:function(d,c,f){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(c,d){var d=b.extend({},this.defaults,d);if(typeof d.speed!=="undefined"){d.openDuration=d.speed;d.closeDuration=d.speed}this.notifications.push({message:c,options:d});d.log.apply(this.element,[this.element,c,d])},render:function(e){var c=this;var d=e.message;var f=e.options;f.themeState=(f.themeState=="")?"":"ui-state-"+f.themeState;var e=b('<div class="notification jGrowl-notification '+f.themeState+((f.group!=undefined&&f.group!="")?" "+f.group:"")+'"><span class="notification-icon"></span><span class="closebox">'+f.closeTemplate+"</span><h3>"+f.header+'</h3><div class="jGrowl-message">'+d+"</div></div>").data("jGrowl",f).addClass(f.theme).children("span.closebox").bind("click.jGrowl",function(){b(this).parent().trigger("jGrowl.close")}).parent();b(e).bind("mouseover.jGrowl",function(){b("div.jGrowl-notification",c.element).data("jGrowl.pause",true)}).bind("mouseout.jGrowl",function(){b("div.jGrowl-notification",c.element).data("jGrowl.pause",false)}).bind("jGrowl.beforeOpen",function(){if(f.beforeOpen.apply(e,[e,d,f,c.element])!=false){b(this).trigger("jGrowl.open")}}).bind("jGrowl.open",function(){if(f.open.apply(e,[e,d,f,c.element])!=false){if(f.glue=="after"){b("div.jGrowl-notification:last",c.element).after(e)}else{b("div.jGrowl-notification:first",c.element).before(e)}b(this).animate(f.animateOpen,f.openDuration,f.easing,function(){if(b.support.opacity===false){this.style.removeAttribute("filter")}if(b(this).data("jGrowl")!=null){b(this).data("jGrowl").created=new Date()}b(this).trigger("jGrowl.afterOpen")})}}).bind("jGrowl.afterOpen",function(){f.afterOpen.apply(e,[e,d,f,c.element])}).bind("jGrowl.beforeClose",function(){if(f.beforeClose.apply(e,[e,d,f,c.element])!=false){b(this).trigger("jGrowl.close")}}).bind("jGrowl.close",function(){b(this).data("jGrowl.pause",true);b(this).animate(f.animateClose,f.closeDuration,f.easing,function(){if(b.isFunction(f.close)){if(f.close.apply(e,[e,d,f,c.element])!==false){b(this).remove()}}else{b(this).remove()}})}).trigger("jGrowl.beforeOpen");if(f.corners!=""&&b.fn.corner!=undefined){b(e).corner(f.corners)}if(b("div.jGrowl-notification:parent",c.element).size()>1&&b("div.jGrowl-closer",c.element).size()==0&&this.defaults.closer!=false){b(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(c.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){b(this).siblings().trigger("jGrowl.beforeClose");if(b.isFunction(c.defaults.closer)){c.defaults.closer.apply(b(this).parent()[0],[b(this).parent()[0]])}})}},update:function(){b(this.element).find("div.jGrowl-notification:parent").each(function(){if(b(this).data("jGrowl")!=undefined&&b(this).data("jGrowl").created!=undefined&&(b(this).data("jGrowl").created.getTime()+parseInt(b(this).data("jGrowl").life))<(new Date()).getTime()&&b(this).data("jGrowl").sticky!=true&&(b(this).data("jGrowl.pause")==undefined||b(this).data("jGrowl.pause")!=true)){b(this).trigger("jGrowl.beforeClose")}});if(this.notifications.length>0&&(this.defaults.pool==0||b(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)){this.render(this.notifications.shift())}if(b(this.element).find("div.jGrowl-notification:parent").size()<2){b(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){b(this).remove()})}},startup:function(c){this.element=b(c).addClass("jGrowl").append('<div class="jGrowl-notification"></div>');this.interval=setInterval(function(){b(c).data("jGrowl.instance").update()},parseInt(this.defaults.check));if(a){b(this.element).addClass("ie6")}},shutdown:function(){b(this.element).removeClass("jGrowl").find("div.jGrowl-notification").trigger("jGrowl.close").parent().empty()},close:function(){b(this.element).find("div.jGrowl-notification").each(function(){b(this).trigger("jGrowl.beforeClose")})}});b.jGrowl.defaults=b.fn.jGrowl.prototype.defaults})(jQuery);